try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="eefaee83-bf8b-4555-84f6-3e8532669a0c",e._sentryDebugIdIdentifier="sentry-dbid-eefaee83-bf8b-4555-84f6-3e8532669a0c")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{1869:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return i}});let i=(0,l(8139).createAsyncLocalStorage)()},2220:e=>{e.exports={root:"preview_root__DXBBw"}},2757:e=>{e.exports={main_clip:"player-video_main_clip__nSyA6"}},2764:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let i=l(4991)._(l(6572));function n(e,t){var l;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,i.default)({...s,modules:null==(l=s.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3539:()=>{},4491:(e,t,l)=>{"use strict";l.d(t,{Preview:()=>O});var i=l(6010),n=l(3074),s=l(5170),o=l(2764),a=l.n(o),r=l(822),d=l(8157),u=l(8418);let c=()=>{let e=window.navigator.userAgent;return/iPhone|iPad|iPod/i.test(e)};class m{startUpdateProgress(){let e=()=>clearInterval(this.intervalId),t=()=>{let t=this.getVideoCurrentTime(),l=this.getVideoDuration(),i=l&&t?Math.round(t/l*this._progressBarSteps):0;this.updateProgressBar(i),i===this._progressBarSteps&&e()};this.intervalId=setInterval(()=>{t()},this.updateProgressTime)}pauseUpdateProgress(){clearInterval(this.intervalId)}initializeListeners(){this._videoPlayerControl.addEventListener("loadedmetadata",this._initializeTimeline),this._videoPlayerControl.addEventListener("timeupdate",this._updateTimeElapsed),this._seekElement.addEventListener("input",this._skipAhead),this._seekElement.addEventListener("mousemove",this._updateSeekTooltip)}initializeTimeline(){let e=Math.round(this.getVideoDuration());this._seekElement.setAttribute("max",String(this._progressBarSteps)),this._progressBarElement.setAttribute("max",String(this._progressBarSteps));let t=this.formatTime(e);this._durationElement.innerText="".concat(t.minutes,":").concat(t.seconds),this._durationElement.setAttribute("datetime","".concat(t.minutes,"m ").concat(t.seconds,"s"))}updateSeekTooltip(e){let t=e.target,l=Math.round(e.offsetX/t.clientWidth*parseInt(t.getAttribute("max")||"",10));this._seekElement.setAttribute("data-seek",String(l));let i=Math.round(this.getVideoDuration()/this._progressBarSteps*l);if(!isNaN(Number(i))){let e=this.formatTime(i);this._seekTooltipElement.textContent="".concat(e.minutes,":").concat(e.seconds)}let n=this._videoPlayerControl.getBoundingClientRect();this._seekTooltipElement.style.left="".concat(e.pageX-n.left,"px")}skipAhead(e){let t=e.target,l=Math.round(Number(t.dataset.seek?t.dataset.seek:t.value));this._videoPlayerControl.currentTime=this.getVideoDuration()/this._progressBarSteps*l,this.updateProgressBar(l)}updateProgressBar(e){this._seekElement.value=String(e),this._progressBarElement.value=e}formatTime(e){let t=new Date(1e3*e).toISOString().slice(11,19);return{minutes:t.slice(3,5),seconds:t.slice(6,8)}}updateTimeElapsed(){let e=this.formatTime(Math.round(this.getVideoCurrentTime()));this._timeElapsedElement.innerText="".concat(e.minutes,":").concat(e.seconds),this._timeElapsedElement.setAttribute("datetime","".concat(e.minutes,"m ").concat(e.seconds,"s"))}getVideoDuration(){return this._videoPlayerControl.duration||0}getVideoCurrentTime(){return this._videoPlayerControl.currentTime||0}constructor(e){this._progressBarSteps=300,this.updateProgressTime=75,this._initializeTimeline=this.initializeTimeline.bind(this),this._updateTimeElapsed=this.updateTimeElapsed.bind(this),this._skipAhead=this.skipAhead.bind(this),this._updateSeekTooltip=this.updateSeekTooltip.bind(this),this._videoPlayerControl=e.videoElement,this._seekElement=e.seekElement,this._progressBarElement=e.progressBarElement,this._timeElapsedElement=e.timeElapsedElement,this._durationElement=e.durationElement,this._seekTooltipElement=e.seekTooltipElement,this.initializeListeners()}}class h{initialize(){this.showControlsPanel(),this.showPlaybackElement(),this.initializeControlListeners()}startPlaying(){this.updatePlayButton(),this.hidePlaybackElement()}startProgress(){this._videoPlayerProgress.startUpdateProgress(),this.showControlsPanel(),this._isPlayingVideo=!0,this._focusOnControlsPanel||this.hideControlsPanel(!0)}pausePlaying(){this._isPlayingVideo=!1,this.updatePlayButton(),this.showPlaybackElement(),this.showControlsPanel(),this._videoPlayerProgress.pauseUpdateProgress()}endPlaying(){this._isPlayingVideo=!1,this.updatePlayButton(),this.showControlsPanel(),this.hideControlsPanel(!0),this._videoPlayerProgress.pauseUpdateProgress()}initializeControlListeners(){document.addEventListener("mouseleave",this._handleDocumentMouseLeaveCallback),this._videoElement.addEventListener("mousemove",this._handleMouseMoveCallback),this._videoControlsElement.addEventListener("mouseenter",this._handleMouseEnterCallback),this._videoControlsElement.addEventListener("mouseleave",this._handleMouseLeaveCallback),this._volumeElement.addEventListener("input",this._updateVolume),this._videoElement.addEventListener("volumechange",this._updateVolumeIcon),this._volumeButtonElement.addEventListener("click",this._toggleMute),this._fullscreenButtonElement.addEventListener("click",this._toggleFullScreen),this._videoControlsElement.addEventListener("fullscreenchange",this._updateFullscreenButton)}handleMouseMoveCallback(){this._isPlayingVideo&&(this.showControlsPanel(),this.hideControlsPanel(!0))}handleMouseEnterCallback(){this._focusOnControlsPanel=!0}handleMouseLeaveCallback(){this.hideControlsPanel(!0),this._focusOnControlsPanel=!1}handleDocumentMouseLeaveCallback(){this.hideControlsPanel()}showControlsPanel(){this._videoControlsElement.classList.contains("hidden")&&this._videoControlsElement.classList.remove("hidden"),clearTimeout(this._timeoutControlsId)}hideControlsPanel(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=()=>{if(this._videoElement.paused||this._focusOnControlsPanel){clearTimeout(this._timeoutHideControlsPanel);return}this._videoControlsElement.classList.contains("hidden")||this._videoControlsElement.classList.add("hidden")};e?this._timeoutControlsId=setTimeout(()=>t(),this._timeoutHideControlsPanel):t()}updateVolume(){this._videoElement.muted&&(this._videoElement.muted=!1),this._videoElement.volume=Number(this._volumeElement.value)}updateVolumeIcon(){this._volumeIconsElement.forEach(e=>{e.classList.add("hidden")}),this._volumeButtonElement.setAttribute("data-title","Mute (m)"),this._videoElement.muted||0===this._videoElement.volume?(this._volumeMuteElement.classList.remove("hidden"),this._volumeButtonElement.setAttribute("data-title","Unmute (m)")):this._videoElement.volume>0&&this._videoElement.volume<=.5?this._volumeLowElement.classList.remove("hidden"):this._volumeHighElement.classList.remove("hidden")}toggleMute(){this._videoElement.muted=!this._videoElement.muted,this._videoElement.muted?(this._volumeElement.setAttribute("data-volume",this._volumeElement.value),this._volumeElement.value="0"):this._volumeElement.value=this._volumeElement.dataset.volume||""}async toggleFullScreen(e){if(e.preventDefault(),c()){this._onClickFullScreenIOS();return}document.fullscreenElement?await document.exitFullscreen():"webkitRequestFullscreen"in document?document.webkitRequestFullscreen():"webkitRequestFullscreen"in this._containerVideoElement?this._containerVideoElement.webkitRequestFullscreen():await this._containerVideoElement.requestFullscreen().catch(()=>{}),this.updateFullscreenButton()}updateFullscreenButton(){this._fullscreenIconsElement.forEach(e=>e.classList.toggle("hidden")),document.fullscreenElement?this._fullscreenButtonElement.setAttribute("data-title","Exit full screen (f)"):this._fullscreenButtonElement.setAttribute("data-title","Full screen (f)")}hidePlaybackElement(){this._playbackAnimationElement.classList.contains("hidden")||(this.animateHidePlayback(),setTimeout(()=>{this._playbackAnimationElement.classList.add("hidden")},this._playbackAnimationTime))}showPlaybackElement(){this._playbackAnimationElement.classList.contains("hidden")&&(this._playbackAnimationElement.classList.remove("hidden"),this.animateShowPlayback())}updatePlayButton(){this._playbackIconsElement.forEach(e=>e.classList.toggle("hidden"));let e=this._videoElement.paused?"Play (k)":"Pause (k)";this._playButtonElement.setAttribute("data-title",e)}animateShowPlayback(){"animate"in this._playbackAnimationElement&&this._playbackAnimationElement.animate([{opacity:0,transform:"scale(1.3)"},{opacity:1,transform:"scale(1)"}],{duration:this._playbackAnimationTime})}animateHidePlayback(){"animate"in this._playbackAnimationElement&&this._playbackAnimationElement.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.3)"}],{duration:this._playbackAnimationTime})}constructor(e){this._timeoutHideControlsPanel=3e3,this._playbackAnimationTime=250,this._focusOnControlsPanel=!1,this._isPlayingVideo=!1,this._handleDocumentMouseLeaveCallback=this.handleDocumentMouseLeaveCallback.bind(this),this._handleMouseMoveCallback=this.handleMouseMoveCallback.bind(this),this._handleMouseEnterCallback=this.handleMouseEnterCallback.bind(this),this._handleMouseLeaveCallback=this.handleMouseLeaveCallback.bind(this),this._updateVolume=this.updateVolume.bind(this),this._updateVolumeIcon=this.updateVolumeIcon.bind(this),this._toggleMute=this.toggleMute.bind(this),this._toggleFullScreen=this.toggleFullScreen.bind(this),this._updateFullscreenButton=this.updateFullscreenButton.bind(this),this._onClickFullScreenIOS=e.onClickFullScreenIOS,this._containerVideoElement=e.containerVideoElement,this._videoElement=e.videoElement,this._videoControlsElement=e.videoControlsElement,this._playButtonElement=e.playButtonElement,this._volumeElement=e.volumeElement,this._volumeButtonElement=e.volumeButtonElement,this._fullscreenButtonElement=e.fullscreenButtonElement,this._volumeMuteElement=e.volumeMuteElement,this._playbackIconsElement=e.playbackIconsElement,this._playbackAnimationElement=e.playbackAnimationElement,this._volumeIconsElement=e.volumeIconsElement,this._fullscreenIconsElement=e.fullscreenIconsElement,this._volumeLowElement=e.volumeLowElement,this._volumeHighElement=e.volumeHighElement,this._videoPlayerProgress=new m({videoElement:e.videoElement,seekElement:e.seekElement,durationElement:e.durationElement,progressBarElement:e.progressBarElement,seekTooltipElement:e.seekTooltipElement,timeElapsedElement:e.timeElapsedElement}),this.initialize()}}class _{async onPlay(){await this.playVideo()}initListeners(){this._videoElement.addEventListener("click",this._togglePlayCallback),this._playbackElement.addEventListener("click",this._togglePlayCallback),this._playButtonElement.addEventListener("click",this._togglePlayCallback),this._videoElement.addEventListener("ended",this._endPlayVideoCallback)}async playVideo(){try{await this._videoElement.play(),this._videoPlayerControl.startPlaying(),this._videoPlayerControl.startProgress(),this._isPlaying=!0,this._onPlayCb()}catch(e){console.error("Error playing video:",e)}}pauseVideo(){this._isPlaying&&(this._videoElement.pause(),this._isPlaying=!1,this._videoPlayerControl.pausePlaying(),this._onPauseCb())}endPlayVideoCallback(){this._videoPlayerControl.endPlaying(),this._onEndCb()}async togglePlayCallback(e){e.stopPropagation(),this._videoElement.paused||this._videoElement.ended?await this.playVideo():this.pauseVideo()}constructor({containerVideoElement:e,videoElement:t,onPlay:l,onPause:i,onEnd:n,onClickFullScreenIOS:s}){this._isPlaying=!1,this._endPlayVideoCallback=this.endPlayVideoCallback.bind(this),this._togglePlayCallback=this.togglePlayCallback.bind(this),this._videoElement=t,this._onPlayCb=l,this._onPauseCb=i,this._onEndCb=n,this._playButtonElement=document.getElementById("play"),this._playbackElement=document.getElementById("playback");let o=document.getElementById("videoControls"),a=document.querySelectorAll(".playback_icons use"),r=document.getElementById("timeElapsed"),d=document.getElementById("duration"),u=document.getElementById("progressBar"),c=document.getElementById("seek"),m=document.getElementById("seekTooltip"),_=document.getElementById("volumeButton"),p=document.querySelectorAll("#volumeButton use"),v=document.querySelector('use[href="#volume-mute"]'),y=document.querySelector('use[href="#volume-low"]'),b=document.querySelector('use[href="#volume-high"]'),E=document.getElementById("volume"),g=document.getElementById("fullscreenButton"),f=g.querySelectorAll("use");this._videoPlayerControl=new h({playbackAnimationElement:this._playbackElement,playButtonElement:this._playButtonElement,videoElement:this._videoElement,onClickFullScreenIOS:s,containerVideoElement:e,durationElement:d,fullscreenIconsElement:f,fullscreenButtonElement:g,playbackIconsElement:a,videoControlsElement:o,volumeElement:E,progressBarElement:u,seekElement:c,seekTooltipElement:m,volumeButtonElement:_,volumeIconsElement:p,volumeMuteElement:v,timeElapsedElement:r,volumeHighElement:b,volumeLowElement:y}),this.initListeners()}}let p=(0,u.v)((e,t)=>({status:"init",playStatus:"init",player:null,initVideoPlayer:t=>{e({status:"initialized",player:new _({...t,onPlay:()=>e({playStatus:"playing"}),onPause:()=>e({playStatus:"pause"}),onEnd:()=>e({playStatus:"ended"})})})},onPlay:()=>{if(["init","pause","ended"].includes(t().playStatus)){var e;null===(e=t().player)||void 0===e||e.onPlay()}}}));var v=l(5300),y=l(7174),b=l(3146),E=l(2436),g=l(6815);let f=s.memo(e=>{let t,l,s,o,a,r,d;let u=(0,n.c)(9),{isShowPlayIcon:c}=e;return u[0]!==c?(t=c&&(0,i.jsx)("div",{"data-testid":"playback",id:"playback",className:"playback hidden",children:(0,i.jsxs)("svg",{className:"playback_icons",children:[(0,i.jsx)("use",{"data-testid":"play_icon",href:"#play-icon"}),(0,i.jsx)("use",{"data-testid":"pause_icon",className:"hidden",href:"#pause"})]})}),u[0]=c,u[1]=t):t=u[1],u[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsxs)("div",{"data-testid":"video_progress",className:"video_progress",children:[(0,i.jsx)("progress",{id:"progressBar",value:"0"}),(0,i.jsx)("input",{id:"seek",className:"seek",defaultValue:"0",min:"0",type:"range",step:"1"}),(0,i.jsx)("div",{id:"seekTooltip",className:"seek_tooltip",children:"00:00"})]}),u[2]=l):l=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)("button",{id:"play","data-title":"Play (k)",children:(0,i.jsxs)("svg",{className:"playback_icons",children:[(0,i.jsx)("use",{"data-testid":"control_play_icon",href:"#play-icon"}),(0,i.jsx)("use",{"data-testid":"control_pause_icon",className:"hidden",href:"#pause"})]})}),u[3]=s):s=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsxs)("div",{className:"volume_controls",children:[(0,i.jsx)("button",{"data-testid":"volume_button",id:"volumeButton","data-title":"Mute (m)",className:"volume-button",children:(0,i.jsxs)("svg",{children:[(0,i.jsx)("use",{"data-testid":"control_volume_mute",className:"hidden",href:"#volume-mute"}),(0,i.jsx)("use",{"data-testid":"control_volume_low",className:"hidden",href:"#volume-low"}),(0,i.jsx)("use",{href:"#volume-high"})]})}),(0,i.jsx)("input",{id:"volume",className:"volume",defaultValue:"1","data-mute":"0.5",type:"range",max:"1",min:"0",step:"0.01"})]}),u[4]=o):o=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("div",{className:"left_controls",children:[s,o,(0,i.jsxs)("div",{"data-testid":"time",className:"time",children:[(0,i.jsx)("time",{id:"timeElapsed",children:"00:00"}),(0,i.jsx)("span",{children:" / "}),(0,i.jsx)("time",{id:"duration",children:"00:00"})]})]}),u[5]=a):a=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsxs)("div",{"data-testid":"video_controls",id:"videoControls",className:"video_controls hidden",children:[l,(0,i.jsxs)("div",{className:"bottom_controls",children:[a,(0,i.jsx)("div",{className:"right-controls",children:(0,i.jsx)("button",{"data-testid":"fullscreen_button",id:"fullscreenButton","data-title":"Full screen (f)",className:"fullscreen-button",children:(0,i.jsxs)("svg",{children:[(0,i.jsx)("use",{href:"#fullscreen"}),(0,i.jsx)("use",{href:"#fullscreen-exit",className:"hidden"})]})})})]})]}),u[6]=r):r=u[6],u[7]!==t?(d=(0,i.jsxs)(i.Fragment,{children:[t,r]}),u[7]=t,u[8]=d):d=u[8],d}),P=s.memo(()=>{let e,t,l,s,o,a,r,d;let u=(0,n.c)(8);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"none"},u[0]=e):e=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("symbol",{id:"pause",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z"})}),u[1]=t):t=u[1],u[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsx)("symbol",{id:"play-icon",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M8.016 5.016l10.969 6.984-10.969 6.984v-13.969z"})}),u[2]=l):l=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)("symbol",{id:"volume-high",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M14.016 3.234q3.047 0.656 5.016 3.117t1.969 5.648-1.969 5.648-5.016 3.117v-2.063q2.203-0.656 3.586-2.484t1.383-4.219-1.383-4.219-3.586-2.484v-2.063zM16.5 12q0 2.813-2.484 4.031v-8.063q1.031 0.516 1.758 1.688t0.727 2.344zM3 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6z"})}),u[3]=s):s=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)("symbol",{id:"volume-low",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M5.016 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6zM18.516 12q0 2.766-2.531 4.031v-8.063q1.031 0.516 1.781 1.711t0.75 2.32z"})}),u[4]=o):o=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)("symbol",{id:"volume-mute",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M12 3.984v4.219l-2.109-2.109zM4.266 3l16.734 16.734-1.266 1.266-2.063-2.063q-1.547 1.313-3.656 1.828v-2.063q1.172-0.328 2.25-1.172l-4.266-4.266v6.75l-5.016-5.016h-3.984v-6h4.734l-4.734-4.734zM18.984 12q0-2.391-1.383-4.219t-3.586-2.484v-2.063q3.047 0.656 5.016 3.117t1.969 5.648q0 2.203-1.031 4.172l-1.5-1.547q0.516-1.266 0.516-2.625zM16.5 12q0 0.422-0.047 0.609l-2.438-2.438v-2.203q1.031 0.516 1.758 1.688t0.727 2.344z"})}),u[5]=a):a=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)("symbol",{id:"fullscreen",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z"})}),u[6]=r):r=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsx)("svg",{style:e,children:(0,i.jsxs)("defs",{children:[t,l,s,o,a,r,(0,i.jsx)("symbol",{id:"fullscreen-exit",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z"})})]})}),u[7]=d):d=u[7],d});l(3539);var k=l(2757),C=l.n(k);let x=e=>{let t,l,o,a,r,d,u,c,m,h,_,v,k;let x=(0,n.c)(30),{containerVideoRef:B,clip:M,onPlay:L,clipPageUrl:I,isShowPlayIcon:T}=e,N=(0,b.useRouter)(),A=(0,b.useSearchParams)(),V=(0,g.C)(w),z=p(j),O=(0,s.useRef)(null),q=(0,s.useRef)(null);x[0]!==M.preview||x[1]!==M.previewBackupMp4||x[2]!==M.previewBackupWebm?(l=[M.preview,M.previewBackupWebm,M.previewBackupMp4].filter(Boolean),x[0]=M.preview,x[1]=M.previewBackupMp4,x[2]=M.previewBackupWebm,x[3]=l):l=x[3],t=l;let[F,U]=(0,s.useState)(t),[D,R]=(0,s.useState)(!1),H="1"===A.get("agg")&&!D;x[4]!==I||x[5]!==H?(o=()=>{var e;if(!H||!I)return;let t=e=>{e.stopPropagation(),R(!0),window.open(I,"_blank")};return null===(e=O.current)||void 0===e||e.addEventListener("click",t,{capture:!0}),()=>{var e;null===(e=O.current)||void 0===e||e.removeEventListener("click",t,{capture:!0})}},a=[H,I],x[4]=I,x[5]=H,x[6]=o,x[7]=a):(o=x[6],a=x[7]),(0,s.useEffect)(o,a),x[8]===Symbol.for("react.memo_cache_sentinel")?(r=[],x[8]=r):r=x[8],(0,s.useEffect)(()=>{t.length>0?(()=>{if(!q.current||!B.current)throw Error("Cant find necessary element");z({onClickFullScreenIOS:()=>{V(E.s.iosFullScreenClick,{}),window.open(I,"_blank")},containerVideoElement:B.current,videoElement:q.current}),q.current.setAttribute("preload","metadata")})():W()},r);let W=()=>N.push((0,y.c)(M.id));x[9]!==V?(d=()=>V(E.s.play,{}),x[9]=V,x[10]=d):d=x[10];let X=d;x[11]!==L||x[12]!==X?(u=()=>{L(),X()},x[11]=L,x[12]=X,x[13]=u):u=x[13];let K=u;x[14]!==F||x[15]!==W?(c=async e=>{let{src:t}=e.target;q.current&&F.length>1?U(F.filter(e=>e!==t)):W()},x[14]=F,x[15]=W,x[16]=c):c=x[16];let G=c,Y=M.thumb;return x[17]!==F?(m=F.map(S),x[17]=F,x[18]=m):m=x[18],x[19]!==M.thumb||x[20]!==G||x[21]!==K||x[22]!==m?(h=(0,i.jsxs)("video",{"data-testid":"video",ref:q,playsInline:!0,disablePictureInPicture:!0,controlsList:"nodownload noplaybackrate",preload:"none",onPlay:K,onError:G,className:C().main_clip,poster:Y,children:[m,"Your browser does not support the video tag"]}),x[19]=M.thumb,x[20]=G,x[21]=K,x[22]=m,x[23]=h):h=x[23],x[24]!==T?(_=(0,i.jsx)(f,{isShowPlayIcon:T}),x[24]=T,x[25]=_):_=x[25],x[26]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsx)(P,{}),x[26]=v):v=x[26],x[27]!==h||x[28]!==_?(k=(0,i.jsxs)("div",{ref:O,className:"video_container",children:[h,_,v]}),x[27]=h,x[28]=_,x[29]=k):k=x[29],k};function w(e){return e.sendLoggerEvent}function j(e){return e.initVideoPlayer}function S(e){let t=e.includes(".webm")?"video/webm":"video/mp4";return(0,i.jsx)("source",{src:e,type:t},e)}var B=l(8743),M=l(8016),L=l(9063),I=l.n(L);let T=e=>{let t,l,s,o,a,r,d,u,c;let m=(0,n.c)(24),{clipTitle:h,clipStudioName:_,clipPageUrl:p,studioPageUrl:v}=e,y=(0,g.C)(N);m[0]!==y?(t=()=>y(E.s.logoClick,{}),m[0]=y,m[1]=t):t=m[1];let b=t;m[2]!==y?(l=()=>y(E.s.clipTitleClick,{}),m[2]=y,m[3]=l):l=m[3];let f=l;m[4]!==y?(s=()=>y(E.s.studioTitleClick,{}),m[4]=y,m[5]=s):s=m[5];let P=s;return m[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)(M.XS,{}),m[6]=o):o=m[6],m[7]!==p||m[8]!==b?(a=(0,i.jsx)(B.N,{target:"_blank",testId:"logo_small",href:p,onClick:b,children:o}),m[7]=p,m[8]=b,m[9]=a):a=m[9],m[10]!==p||m[11]!==h||m[12]!==f?(r=(0,i.jsx)(B.N,{target:"_blank",className:I().clip_title,href:p,onClick:f,testId:"clip_title",children:h}),m[10]=p,m[11]=h,m[12]=f,m[13]=r):r=m[13],m[14]!==_||m[15]!==P||m[16]!==v?(d=(0,i.jsx)(B.N,{target:"_blank",className:I().studio_title,href:v,onClick:P,testId:"studio_title",children:_}),m[14]=_,m[15]=P,m[16]=v,m[17]=d):d=m[17],m[18]!==r||m[19]!==d?(u=(0,i.jsxs)("div",{className:I().description,children:[r,d]}),m[18]=r,m[19]=d,m[20]=u):u=m[20],m[21]!==a||m[22]!==u?(c=(0,i.jsxs)("div",{className:I().root,children:[a,u]}),m[21]=a,m[22]=u,m[23]=c):c=m[23],c};function N(e){return e.sendLoggerEvent}var A=l(2220),V=l.n(A);let z=a()(()=>Promise.all([l.e(383),l.e(210),l.e(416)]).then(l.bind(l,6416)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[6416]}}),O=e=>{let t,l,o,a,u,c,m,h,_;let b=(0,n.c)(32),{clip:E}=e,g=(0,s.useRef)(null),{onPlay:f,isShowPopup:P}=p((0,r.k)(q)),k=(0,v.N)(F);b[0]===Symbol.for("react.memo_cache_sentinel")?(t={buyNowUrl:"",clipPageUrl:"",studioPageUrl:""},b[0]=t):t=b[0];let[C,w]=(0,s.useState)(t);b[1]!==E.id||b[2]!==E.studio.id||b[3]!==E.studio.name||b[4]!==E.title?(l=()=>{let e=(0,y.D)(window.location.href);w({buyNowUrl:d.K.getBuyNowUrl({clipId:E.id,clipTitle:E.title,searchParams:e}),clipPageUrl:d.K.getClipPageUrl({clipId:E.id,clipTitle:E.title,searchParams:e}),studioPageUrl:d.K.getStudioPageUrl({studioId:E.studio.id,studioName:E.studio.name,searchParams:e})})},b[1]=E.id,b[2]=E.studio.id,b[3]=E.studio.name,b[4]=E.title,b[5]=l):l=b[5],b[6]===Symbol.for("react.memo_cache_sentinel")?(o=[],b[6]=o):o=b[6],(0,s.useEffect)(l,o),b[7]!==f?(a=()=>f(),b[7]=f,b[8]=a):a=b[8];let j=a;b[9]!==E.id||b[10]!==k?(u=()=>k(E.id),b[9]=E.id,b[10]=k,b[11]=u):u=b[11];let S=u,{buyNowUrl:B,studioPageUrl:M,clipPageUrl:L}=C;return b[12]!==E.studio.name||b[13]!==E.title||b[14]!==L||b[15]!==P||b[16]!==M?(c=!P&&L&&M&&(0,i.jsx)(T,{clipTitle:E.title,clipStudioName:E.studio.name,clipPageUrl:L,studioPageUrl:M}),b[12]=E.studio.name,b[13]=E.title,b[14]=L,b[15]=P,b[16]=M,b[17]=c):c=b[17],b[18]!==E||b[19]!==L||b[20]!==S||b[21]!==P?(m=L&&(0,i.jsx)(x,{containerVideoRef:g,clip:E,clipPageUrl:L,isShowPlayIcon:!P,onPlay:S}),b[18]=E,b[19]=L,b[20]=S,b[21]=P,b[22]=m):m=b[22],b[23]!==B||b[24]!==L||b[25]!==j||b[26]!==P?(h=P&&(0,i.jsx)(z,{clipPageUrl:L,buyNowUrl:B,onClose:j}),b[23]=B,b[24]=L,b[25]=j,b[26]=P,b[27]=h):h=b[27],b[28]!==c||b[29]!==m||b[30]!==h?(_=(0,i.jsxs)("div",{ref:g,className:V().root,children:[c,m,h]}),b[28]=c,b[29]=m,b[30]=h,b[31]=_):_=b[31],_};function q(e){return{onPlay:e.onPlay,isShowPopup:"pause"===e.playStatus||"ended"===e.playStatus}}function F(e){return e.initializePopupClips}},4870:(e,t,l)=>{"use strict";function i(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}}),l(6010),l(2591),l(4941),l(3508)},4941:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return i.workAsyncStorageInstance}});let i=l(1869)},6572:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let i=l(6010),n=l(5170),s=l(9755);function o(e){return{default:e&&"default"in e?e.default:e}}l(4870);let a={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},r=function(e){let t={...a,...e},l=(0,n.lazy)(()=>t.loader().then(o)),r=t.loading;function d(e){let o=r?(0,i.jsx)(r,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,d=a?n.Suspense:n.Fragment,u=t.ssr?(0,i.jsxs)(i.Fragment,{children:[null,(0,i.jsx)(l,{...e})]}):(0,i.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(l,{...e})});return(0,i.jsx)(d,{...a?{fallback:o}:{},children:u})}return d.displayName="LoadableComponent",d}},8139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return a}});let l=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class i{disable(){throw l}getStore(){}run(){throw l}exit(){throw l}enterWith(){throw l}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new i}function o(e){return n?n.bind(e):i.bind(e)}function a(){return n?n.snapshot():function(e,...t){return e(...t)}}},9063:e=>{e.exports={root:"logo-preview_root__r6nhi",description:"logo-preview_description__I1sB2",clip_title:"logo-preview_clip_title__C3A_E",studio_title:"logo-preview_studio_title__tbOAz"}},9605:(e,t,l)=>{Promise.resolve().then(l.bind(l,4491))},9755:(e,t,l)=>{"use strict";function i(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}}),l(2815)}},e=>{var t=t=>e(e.s=t);e.O(0,[832,663,537,994,237,267,935,358],()=>t(9605)),_N_E=e.O()}]);